<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Splitter</title>
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2338bdf8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z'/%3E%3Cpolyline points='14 2 14 8 20 8'/%3E%3C/svg%3E"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="h-screen flex flex-col overflow-hidden">
    <!-- Header: Acrylic + Sharp -->
    <header
      class="acrylic-panel border-b-0 border-white/5 px-6 py-4 flex items-center justify-between shrink-0 z-20"
    >
      <div class="flex items-center gap-3">
        <i
          data-lucide="file-code"
          class="text-sky-400 w-5 h-5 stroke-[1.5]"
        ></i>
        <h1 class="text-lg font-semibold tracking-wide text-slate-200">
          Splitter
        </h1>
      </div>
      <div class="flex gap-1 text-sm font-medium">
        <button
          id="tab-split"
          class="tab-active px-6 py-2 transition-colors flex items-center gap-2"
          onclick="switchTab('split')"
        >
          <i data-lucide="scissors" class="w-4 h-4 stroke-[1.5]"></i> Split
        </button>
        <button
          id="tab-combine"
          class="tab-inactive px-6 py-2 transition-colors flex items-center gap-2"
          onclick="switchTab('combine')"
        >
          <i data-lucide="layers" class="w-4 h-4 stroke-[1.5]"></i> Combine
        </button>
      </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 overflow-hidden relative">
      <!-- SPLIT MODE -->
      <div
        id="view-split"
        class="absolute inset-0 flex flex-col p-0 gap-0 h-full w-full transition-opacity duration-300"
      >
        <!-- Top Half: Input -->
        <div class="flex-1 flex flex-col min-h-0 p-4 pb-2">
          <div
            class="acrylic-panel flex-1 flex flex-col min-h-0 overflow-hidden"
          >
            <div
              class="bg-white/5 px-4 py-2 border-b border-white/5 flex justify-between items-center"
            >
              <span
                class="text-xs font-semibold text-slate-400 uppercase tracking-wider"
                >Input: Single File HTML</span
              >
              <button
                onclick="clearSplitInput()"
                class="text-slate-400 hover:text-white text-xs flex items-center gap-1 transition-colors px-2 py-1 hover:bg-white/10"
              >
                <i data-lucide="trash-2" class="w-3 h-3"></i> Clear
              </button>
            </div>
            <textarea
              id="split-input"
              class="flex-1 bg-transparent p-4 text-slate-200 placeholder-slate-500 w-full h-full border-none focus:ring-0"
              placeholder="Paste your single-file HTML code here..."
            ></textarea>
          </div>
        </div>

        <!-- Action Bar -->
        <div class="flex justify-center shrink-0 py-2">
          <button
            onclick="processSplit()"
            class="bg-sky-600 hover:bg-sky-500 text-white font-semibold py-2 px-8 shadow-lg transition-all flex items-center gap-2 transform active:scale-95 border border-sky-400/20"
          >
            <i data-lucide="arrow-down" class="w-4 h-4"></i>
            Split Files
          </button>
        </div>

        <!-- Bottom Half: Outputs -->
        <div class="flex-1 flex gap-4 min-h-0 p-4 pt-2">
          <!-- HTML Output -->
          <div class="acrylic-panel flex-1 flex flex-col overflow-hidden">
            <div
              class="bg-white/5 px-3 py-2 border-b border-white/5 flex justify-between items-center"
            >
              <span class="text-xs font-semibold text-orange-400"
                >index.html</span
              >
              <div class="flex gap-1">
                <button
                  onclick="copyToClipboard('split-out-html')"
                  class="text-slate-400 hover:text-white p-1 hover:bg-white/10"
                  title="Copy"
                >
                  <i data-lucide="copy" class="w-3.5 h-3.5"></i>
                </button>
                <button
                  onclick="
                    downloadFile('split-out-html', 'index.html', 'text/html')
                  "
                  class="text-slate-400 hover:text-white p-1 hover:bg-white/10"
                  title="Download"
                >
                  <i data-lucide="download" class="w-3.5 h-3.5"></i>
                </button>
              </div>
            </div>
            <textarea
              id="split-out-html"
              readonly=""
              class="flex-1 bg-transparent p-3 text-slate-300 text-xs w-full h-full"
            ></textarea>
          </div>

          <!-- CSS Output -->
          <div class="acrylic-panel flex-1 flex flex-col overflow-hidden">
            <div
              class="bg-white/5 px-3 py-2 border-b border-white/5 flex justify-between items-center"
            >
              <span class="text-xs font-semibold text-blue-400">style.css</span>
              <div class="flex gap-1">
                <button
                  onclick="copyToClipboard('split-out-css')"
                  class="text-slate-400 hover:text-white p-1 hover:bg-white/10"
                  title="Copy"
                >
                  <i data-lucide="copy" class="w-3.5 h-3.5"></i>
                </button>
                <button
                  onclick="
                    downloadFile('split-out-css', 'style.css', 'text/css')
                  "
                  class="text-slate-400 hover:text-white p-1 hover:bg-white/10"
                  title="Download"
                >
                  <i data-lucide="download" class="w-3.5 h-3.5"></i>
                </button>
              </div>
            </div>
            <textarea
              id="split-out-css"
              readonly=""
              class="flex-1 bg-transparent p-3 text-slate-300 text-xs w-full h-full"
            ></textarea>
          </div>

          <!-- JS Output -->
          <div class="acrylic-panel flex-1 flex flex-col overflow-hidden">
            <div
              class="bg-white/5 px-3 py-2 border-b border-white/5 flex justify-between items-center"
            >
              <span class="text-xs font-semibold text-yellow-400"
                >script.js</span
              >
              <div class="flex gap-1">
                <button
                  onclick="copyToClipboard('split-out-js')"
                  class="text-slate-400 hover:text-white p-1 hover:bg-white/10"
                  title="Copy"
                >
                  <i data-lucide="copy" class="w-3.5 h-3.5"></i>
                </button>
                <button
                  onclick="
                    downloadFile('split-out-js', 'script.js', 'text/javascript')
                  "
                  class="text-slate-400 hover:text-white p-1 hover:bg-white/10"
                  title="Download"
                >
                  <i data-lucide="download" class="w-3.5 h-3.5"></i>
                </button>
              </div>
            </div>
            <textarea
              id="split-out-js"
              readonly=""
              class="flex-1 bg-transparent p-3 text-slate-300 text-xs w-full h-full"
            ></textarea>
          </div>
        </div>
      </div>

      <!-- COMBINE MODE -->
      <div
        id="view-combine"
        class="hidden absolute inset-0 flex flex-col p-0 gap-0 h-full w-full opacity-0 transition-opacity duration-300"
      >
        <!-- Top Half: Inputs -->
        <div class="flex-1 flex gap-4 min-h-0 p-4 pb-2">
          <!-- HTML Input -->
          <div class="acrylic-panel flex-1 flex flex-col overflow-hidden">
            <div
              class="bg-white/5 px-3 py-2 border-b border-white/5 flex justify-between items-center"
            >
              <span class="text-xs font-semibold text-orange-400"
                >HTML Structure</span
              >
              <button
                onclick="clearField('combine-in-html')"
                class="text-slate-500 hover:text-white p-1 hover:bg-white/10"
              >
                <i data-lucide="x" class="w-3 h-3"></i>
              </button>
            </div>
            <textarea
              id="combine-in-html"
              class="flex-1 bg-transparent p-3 text-slate-300 text-xs w-full h-full focus:bg-white/5 transition-colors"
              placeholder="&lt;!-- Your HTML here --&gt;"
            ></textarea>
          </div>

          <!-- CSS Input -->
          <div class="acrylic-panel flex-1 flex flex-col overflow-hidden">
            <div
              class="bg-white/5 px-3 py-2 border-b border-white/5 flex justify-between items-center"
            >
              <span class="text-xs font-semibold text-blue-400">CSS</span>
              <button
                onclick="clearField('combine-in-css')"
                class="text-slate-500 hover:text-white p-1 hover:bg-white/10"
              >
                <i data-lucide="x" class="w-3 h-3"></i>
              </button>
            </div>
            <textarea
              id="combine-in-css"
              class="flex-1 bg-transparent p-3 text-slate-300 text-xs w-full h-full focus:bg-white/5 transition-colors"
              placeholder="/* Your CSS here */"
            ></textarea>
          </div>

          <!-- JS Input -->
          <div class="acrylic-panel flex-1 flex flex-col overflow-hidden">
            <div
              class="bg-white/5 px-3 py-2 border-b border-white/5 flex justify-between items-center"
            >
              <span class="text-xs font-semibold text-yellow-400"
                >JavaScript</span
              >
              <button
                onclick="clearField('combine-in-js')"
                class="text-slate-500 hover:text-white p-1 hover:bg-white/10"
              >
                <i data-lucide="x" class="w-3 h-3"></i>
              </button>
            </div>
            <textarea
              id="combine-in-js"
              class="flex-1 bg-transparent p-3 text-slate-300 text-xs w-full h-full focus:bg-white/5 transition-colors"
              placeholder="// Your JS here"
            ></textarea>
          </div>
        </div>

        <!-- Action Bar -->
        <div class="flex justify-center shrink-0 py-2">
          <button
            onclick="processCombine()"
            class="bg-emerald-600 hover:bg-emerald-500 text-white font-semibold py-2 px-8 shadow-lg transition-all flex items-center gap-2 transform active:scale-95 border border-emerald-400/20"
          >
            <i data-lucide="arrow-down" class="w-4 h-4"></i>
            Combine Files
          </button>
        </div>

        <!-- Bottom Half: Output -->
        <div class="flex-1 flex flex-col min-h-0 p-4 pt-2">
          <div class="acrylic-panel flex-1 flex flex-col overflow-hidden">
            <div
              class="bg-white/5 px-4 py-2 border-b border-white/5 flex justify-between items-center"
            >
              <span
                class="text-xs font-semibold text-emerald-400 uppercase tracking-wider"
                >Result: Single File HTML</span
              >
              <div class="flex gap-2">
                <button
                  onclick="copyToClipboard('combine-out')"
                  class="bg-transparent hover:bg-white/10 border border-slate-600 text-slate-300 text-xs px-3 py-1 flex items-center gap-1 transition-colors"
                >
                  <i data-lucide="copy" class="w-3 h-3"></i> Copy
                </button>
                <button
                  onclick="
                    downloadFile('combine-out', 'index.html', 'text/html')
                  "
                  class="bg-emerald-700/80 hover:bg-emerald-600 text-white text-xs px-3 py-1 flex items-center gap-1 transition-colors shadow-sm"
                >
                  <i data-lucide="download" class="w-3 h-3"></i> Download
                </button>
              </div>
            </div>
            <textarea
              id="combine-out"
              readonly=""
              class="flex-1 bg-transparent p-4 text-slate-200 w-full h-full border-none focus:ring-0"
            ></textarea>
          </div>
        </div>
      </div>
    </main>

    <!-- Toast Notification: Acrylic + Sharp -->
    <div
      id="toast"
      class="fixed bottom-5 right-5 acrylic-panel text-white px-5 py-3 shadow-2xl flex items-center gap-3 transform translate-y-24 transition-transform duration-300 z-50"
    >
      <div id="icon-success" class="flex">
        <i
          data-lucide="check-circle"
          class="text-emerald-400 w-5 h-5 stroke-[1.5]"
        ></i>
      </div>
      <div id="icon-error" class="hidden flex">
        <i data-lucide="x-circle" class="text-red-400 w-5 h-5 stroke-[1.5]"></i>
      </div>
      <span id="toast-message" class="text-sm font-medium tracking-wide"
        >Operation successful</span
      >
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/dompurify@3.3.1/dist/purify.min.js"
      integrity="sha384-80VlBZnyAwkkqtSfg5NhPyZff6nU4K/qniLBL8Jnm4KDv6jZhLiYtJbhglg/i9ww"
      crossorigin="anonymous"
    ></script>
    <script src="script.js"></script>
  </body>
</html>
